---
title: 5月任务总结
date: 2018-05-25 05:08:45
tags: task
---

### 业务层面

本月 200w 预计可稳定完成，下月+100w 目标，如无意外应该可稳定完成。数据：
![5月kpi及完成程度](https://pic3.zhimg.com/80/v2-f7b32ab2ff46a5991c5de9f1ee198599_hd.jpg "5月kpi及完成程度")

### 技术层面

**已经做的**

* 代码规范的限制
* 编译框架和 webpack 持续缓存已经加了上去
* promise 和 base 已经在推广和使用
* mobx（严格模式）已经在重构项目中使用

> mobx 相对来说更容易被初入手的人接受，redux 对于很多人不好理解，我之前做的 redux 入驻部分在我不负责这一块的时候就被破坏的不成样子。而且现在采用多页面模式（兼容 c 端 app 回退机制），更适合分开维护状态的 mobx。

**待完成的**

* 针对 c 端 app 的体验优化，页面 title 维护，回退的状态刷新等
* 针对 b 端 app 的优化，首先是重构 vue 代码，然后才谈的上优化，:)，然后是 b 端关于入驻，修改密码等设计到我们这边业务的页面全部远端化，目前还有部分非远端页面，维护麻烦。
* 性能监控的完整体系，移动端追求的是极致的加载速度，因而需要统计各个页面的加载性能，并对应做优化
* 报错的监控，目前 onerror 的统计被 mms 覆盖，看不到，很心塞
* base 的加强和优化，base 拍照 api 的问题在于内部从拿到图片到处理结束这一段时间没有暴露给外部，所以造成用户等待拍照 api 处理事件过长，2s 左右。base 分享 api 不够细致，只有 hideqq 的选项，更合理的应该是可以传入参数控制分享内容，并且缺少控制分享选项的控制。关于 app 的部分 base api 还不完整，而且重复用了并不需要引入的 pinbridge
* 去掉 jquey，vondor 依赖分析，jquery 和 react-dom 两个占比最大，均在 28%左右，大小在 200k 上下。reack-dom 如果要减小，可以考虑使用 preact，但是怕有风险，需要评估。jquery 是一定要去掉的，根本没有必要，当初加进去估计是有人图方便，但是现在用的地方太多，不太好一下干掉。
* 旧代码的改造，入驻这一整块现在整体比较乱，换了几波人接手，所以我计划下个月将入驻这一块整体迁移到现有编译框架下面，去掉 redux，react-router 等，毕竟多页面和 mobx 不需要两者。还有 assets 下面的旧页面，还是最原始的 jquey，但是改动频度相对较小，可以排在入驻改造之后。
* 良好的测试体系，手写测试数据是很蛋疼还无效（或者说低效）的事情，测一个已经知道的结果完全没有必要。如何完美的 mock 数据，并优雅切入是一件需要迫切解决的事情。ui 测试在看[katalon](https://www.katalon.com/home/ "katalon")
* 最佳实践，这个一直在追求，理想状态是从开发到测试到性能分析一整套完善的流程，形成一个最佳实践，然后不断更新最佳实践，让所有人有参照的写代码
